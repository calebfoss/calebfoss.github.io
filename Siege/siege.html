<link rel="stylesheet" href="siege.css">
<link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300" rel="stylesheet">
<body>

	<div onClick="jumpAhead()" class="video-container" id='link'>
		<video id='video'>
			<source id='source'>
		</video>
	</div>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script type="text/javascript">
		var file = ['1_CROSS_','2_SPIRALS_','3_GEARS_','4_PINS_'];	//Stores the opening video file
		var urls = ['https://www.youtube.com/embed/hyeZq9_sqLg?start=61&autoplay=1','https://www.youtube.com/embed/eB01T_p9jJQ?start=61&autoplay=1','https://www.youtube.com/embed/Rj09OgW8Ya0?start=61&autoplay=1','https://www.youtube.com/embed/KcadVMzUuGM?start=61&autoplay=1']	//Urls for youtube uploads starting at 60s with autoplay enabled
		var index;
		var video = document.getElementById('video');
		var source = document.createElement('source');
		var fileSuffix = "opening";	//added because file names end with 'opening'
		startNewVideo();
		function startNewVideo(){
			index = Math.floor(Math.random()*4);	//Picks a random number and use it as an index for the video file array
			source.setAttribute("src",file[index]+fileSuffix+".mp4");	//Sets the source element based on random index
			video.appendChild(source);	//Attaches source to video element
			video.load();
			video.play();
			video.ontimeupdate = function(){loop()};
			document.getElementById('video').controls = false;	//Removes play controls for video
		}
		function loop(){	//Starts the video over when it reaches 60 seconds
			if(video.currentTime >= 60){
				video.currentTime = 0;
				video.play();
			}
		}
		function jumpAhead(){
			window.location.href = urls[index];	//Redirects to corresponding youtube link when user clicks
		}
	</script>
</body>